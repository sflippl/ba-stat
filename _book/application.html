<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  

<meta name="author" content="Samuel Lippl">


<meta name="date" content="2018-09-18">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="concept.html">
<link rel="next" href="summary.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A user interface for complex datsets</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#note"><i class="fa fa-check"></i>Note</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>2</b> Methodology</a><ul>
<li class="chapter" data-level="2.1" data-path="methods.html"><a href="methods.html#v-dem"><i class="fa fa-check"></i><b>2.1</b> V-Dem</a><ul>
<li class="chapter" data-level="2.1.1" data-path="methods.html"><a href="methods.html#introduction-to-the-database"><i class="fa fa-check"></i><b>2.1.1</b> Introduction to the database</a></li>
<li class="chapter" data-level="2.1.2" data-path="methods.html"><a href="methods.html#vdem.tectr"><i class="fa fa-check"></i><b>2.1.2</b> <code>vdem.tectr</code></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="methods.html"><a href="methods.html#package-construction"><i class="fa fa-check"></i><b>2.2</b> Package construction</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="example.html"><a href="example.html"><i class="fa fa-check"></i><b>3</b> First look</a><ul>
<li class="chapter" data-level="3.1" data-path="example.html"><a href="example.html#fx_ggplot-basics"><i class="fa fa-check"></i><b>3.1</b> <code>fx_ggplot</code>: Basics</a></li>
<li class="chapter" data-level="3.2" data-path="example.html"><a href="example.html#modifying-the-default-values"><i class="fa fa-check"></i><b>3.2</b> Modifying the default values</a></li>
<li class="chapter" data-level="3.3" data-path="example.html"><a href="example.html#summary"><i class="fa fa-check"></i><b>3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="concept.html"><a href="concept.html"><i class="fa fa-check"></i><b>4</b> Description of <code>tectr</code></a><ul>
<li class="chapter" data-level="4.1" data-path="concept.html"><a href="concept.html#effective-explicitness-a-perspective-of-knowledge"><i class="fa fa-check"></i><b>4.1</b> Effective Explicitness: A perspective of knowledge</a></li>
<li class="chapter" data-level="4.2" data-path="concept.html"><a href="concept.html#underlying-structure"><i class="fa fa-check"></i><b>4.2</b> Underlying structure</a><ul>
<li class="chapter" data-level="4.2.1" data-path="concept.html"><a href="concept.html#the-metaframe"><i class="fa fa-check"></i><b>4.2.1</b> The metaframe</a></li>
<li class="chapter" data-level="4.2.2" data-path="concept.html"><a href="concept.html#extending-fx-functions"><i class="fa fa-check"></i><b>4.2.2</b> Extending fx functions</a></li>
<li class="chapter" data-level="4.2.3" data-path="concept.html"><a href="concept.html#other-concepts"><i class="fa fa-check"></i><b>4.2.3</b> Other concepts</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="concept.html"><a href="concept.html#fx_default"><i class="fa fa-check"></i><b>4.3</b> <code>fx_default</code></a><ul>
<li class="chapter" data-level="4.3.1" data-path="concept.html"><a href="concept.html#general-purpose"><i class="fa fa-check"></i><b>4.3.1</b> General purpose</a></li>
<li class="chapter" data-level="4.3.2" data-path="concept.html"><a href="concept.html#extensions"><i class="fa fa-check"></i><b>4.3.2</b> Extensions</a></li>
<li class="chapter" data-level="4.3.3" data-path="concept.html"><a href="concept.html#alternative-implementations"><i class="fa fa-check"></i><b>4.3.3</b> Alternative implementations</a></li>
<li class="chapter" data-level="4.3.4" data-path="concept.html"><a href="concept.html#lifecycle"><i class="fa fa-check"></i><b>4.3.4</b> Lifecycle</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="concept.html"><a href="concept.html#fx_info"><i class="fa fa-check"></i><b>4.4</b> <code>fx_info</code></a><ul>
<li class="chapter" data-level="4.4.1" data-path="concept.html"><a href="concept.html#general-purpose-1"><i class="fa fa-check"></i><b>4.4.1</b> General purpose</a></li>
<li class="chapter" data-level="4.4.2" data-path="concept.html"><a href="concept.html#extensions-1"><i class="fa fa-check"></i><b>4.4.2</b> Extensions</a></li>
<li class="chapter" data-level="4.4.3" data-path="concept.html"><a href="concept.html#lifecycle-1"><i class="fa fa-check"></i><b>4.4.3</b> Lifecycle</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="concept.html"><a href="concept.html#fx_output"><i class="fa fa-check"></i><b>4.5</b> <code>fx_output</code></a><ul>
<li class="chapter" data-level="4.5.1" data-path="concept.html"><a href="concept.html#general-purpose-2"><i class="fa fa-check"></i><b>4.5.1</b> General purpose</a></li>
<li class="chapter" data-level="4.5.2" data-path="concept.html"><a href="concept.html#extensions-2"><i class="fa fa-check"></i><b>4.5.2</b> Extensions</a></li>
<li class="chapter" data-level="4.5.3" data-path="concept.html"><a href="concept.html#lifecycle-2"><i class="fa fa-check"></i><b>4.5.3</b> Lifecycle</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="concept.html"><a href="concept.html#fx_write"><i class="fa fa-check"></i><b>4.6</b> <code>fx_write</code></a><ul>
<li class="chapter" data-level="4.6.1" data-path="concept.html"><a href="concept.html#general-purpose-3"><i class="fa fa-check"></i><b>4.6.1</b> General purpose</a></li>
<li class="chapter" data-level="4.6.2" data-path="concept.html"><a href="concept.html#extensions-3"><i class="fa fa-check"></i><b>4.6.2</b> Extensions</a></li>
<li class="chapter" data-level="4.6.3" data-path="concept.html"><a href="concept.html#alternative-implementations-1"><i class="fa fa-check"></i><b>4.6.3</b> Alternative implementations</a></li>
<li class="chapter" data-level="4.6.4" data-path="concept.html"><a href="concept.html#lifecycle-3"><i class="fa fa-check"></i><b>4.6.4</b> Lifecycle</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="concept.html"><a href="concept.html#fx-ggplot"><i class="fa fa-check"></i><b>4.7</b> <code>fx_ggplot</code></a><ul>
<li class="chapter" data-level="4.7.1" data-path="concept.html"><a href="concept.html#concept-of-fx_ggplot"><i class="fa fa-check"></i><b>4.7.1</b> Concept of <code>fx_ggplot</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="concept.html"><a href="concept.html#implementation-of-the-independent-layers"><i class="fa fa-check"></i><b>4.7.2</b> Implementation of the independent layers</a></li>
<li class="chapter" data-level="4.7.3" data-path="concept.html"><a href="concept.html#implementation-of-the-voting-system"><i class="fa fa-check"></i><b>4.7.3</b> Implementation of the voting system</a></li>
<li class="chapter" data-level="4.7.4" data-path="concept.html"><a href="concept.html#discussion-and-alternatives"><i class="fa fa-check"></i><b>4.7.4</b> Discussion and alternatives</a></li>
<li class="chapter" data-level="4.7.5" data-path="concept.html"><a href="concept.html#lifecycle-and-further-development"><i class="fa fa-check"></i><b>4.7.5</b> Lifecycle and further development</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="application.html"><a href="application.html"><i class="fa fa-check"></i><b>5</b> Application</a><ul>
<li class="chapter" data-level="5.1" data-path="application.html"><a href="application.html#the-metaframe-1"><i class="fa fa-check"></i><b>5.1</b> The metaframe</a></li>
<li class="chapter" data-level="5.2" data-path="application.html"><a href="application.html#fx_info-1"><i class="fa fa-check"></i><b>5.2</b> <code>fx_info</code></a></li>
<li class="chapter" data-level="5.3" data-path="application.html"><a href="application.html#fx_ggplot"><i class="fa fa-check"></i><b>5.3</b> <code>fx_ggplot</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="example.html"><a href="example.html#summary"><i class="fa fa-check"></i><b>6</b> Summary</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>A</b> Packages</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="application" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Application</h1>
<p>This chapter is concerned with the application of <code>tectr</code> to the V-Dem database. At first, it will present the metaframe and discuss the <code>fx_write</code> function. The second section will present <code>fx_info</code> and <code>fx_output</code> whereas the third section will consider <code>fx_ggplot</code>.</p>
<div id="the-metaframe-1" class="section level2">
<h2><span class="header-section-number">5.1</span> The metaframe</h2>
<p>The folder “data-raw” contains the creation of the metaframe in detail. I have imported the codebook <span class="citation">(Coppedge, Gerring, Knutsen, Carl Henrik Lindberg, et al. <a href="#ref-vdem-codebook2018">2018</a>)</span> with the help of the <code>pdftools</code> package <span class="citation">(Ooms <a href="#ref-pdftools">2018</a>)</span>. Subsequently, I have read out different categories of information about the variables. The resulting data frame has been exported by <code>fx_write_json</code> which yielded the data frame <code>mf_revisable</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mf_revisable</code></pre></div>
<pre><code>## # A tibble: 909 x 8
##    part_num chapter_num ind_num ind_type name  part_title chapter_title
##       &lt;dbl&gt;       &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;        
##  1        2           1       1 D        v2x_~ V-Dem Dem~ V-Dem High-L~
##  2        2           1       2 D        v2x_~ V-Dem Dem~ V-Dem High-L~
##  3        2           1       3 D        v2x_~ V-Dem Dem~ V-Dem High-L~
##  4        2           1       4 D        v2x_~ V-Dem Dem~ V-Dem High-L~
##  5        2           1       5 D        v2x_~ V-Dem Dem~ V-Dem High-L~
##  6        2           2       1 D        v2x_~ V-Dem Dem~ V-Dem Mid-Le~
##  7        2           2       2 D        v2x_~ V-Dem Dem~ V-Dem Mid-Le~
##  8        2           2       3 D        v2x_~ V-Dem Dem~ V-Dem Mid-Le~
##  9        2           2       4 D        v2x_~ V-Dem Dem~ V-Dem Mid-Le~
## 10        2           2       5 D        v2x_~ V-Dem Dem~ V-Dem Mid-Le~
## # ... with 899 more rows, and 1 more variable: main &lt;S3: filepath&gt;</code></pre>
<p>In particular, the different information categories have been collapsed into a filepath called “main”.</p>
<p>The files themselves have the following structure:</p>
<pre><code>[
  {
    &quot;fxInfo_name&quot;: &quot;Electoral democracy index&quot;,
    &quot;fxInfo_notes&quot;: &quot;&quot;,
    &quot;fxInfo_ordering&quot;: &quot;&quot;,
    &quot;fxInfo_project_manager&quot;: [&quot;Jan Teorell&quot;],
    &quot;fxInfo_question&quot;: &quot;To what extent is the ideal of electoral democracy in its fullest sense achieved?&quot;,
    &quot;fxInfo_responses&quot;: [],
    &quot;fxInfo_scale&quot;: &quot;Interval, from low to high (0-1)&quot;,
    &quot;fxInfo_sources&quot;: &quot;v2x_freexp_altinf v2x_frassoc_thick v2x_suffr v2xel_frefair v2x_elecoff&quot;,
    &quot;name&quot;: &quot;v2x_polyarchy&quot;
  }
]</code></pre>
<p>I have only included a few exemplary fields in order to demonstrate that such a file is well-readable by humans.</p>
<p>At this stage, these variables may be modified by hand in order to add additional fields or correct typos.</p>
<p>Afterwards, the metaframe is completed by adding the parameters of <code>fxGeom</code>. This results in the <code>vdem</code>-object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">metaframe</span>(vdem)</code></pre></div>
<pre><code>## # A tibble: 2,671 x 32
##    name  fxInfo_name part_num chapter_num ind_num ind_type part_title
##    &lt;chr&gt; &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;     
##  1 coun~ Country Na~       NA          NA      NA &lt;NA&gt;     &lt;NA&gt;      
##  2 year  Year              NA          NA      NA &lt;NA&gt;     &lt;NA&gt;      
##  3 v2x_~ Electoral ~        2           1       1 D        V-Dem Dem~
##  4 v2x_~ Electoral ~        2           1       1 D        V-Dem Dem~
##  5 v2x_~ Electoral ~        2           1       1 D        V-Dem Dem~
##  6 v2x_~ Liberal de~        2           1       2 D        V-Dem Dem~
##  7 v2x_~ Liberal de~        2           1       2 D        V-Dem Dem~
##  8 v2x_~ Liberal de~        2           1       2 D        V-Dem Dem~
##  9 v2x_~ Participat~        2           1       3 D        V-Dem Dem~
## 10 v2x_~ Participat~        2           1       3 D        V-Dem Dem~
## # ... with 2,661 more rows, and 25 more variables: chapter_title &lt;chr&gt;,
## #   fxInfo_aggregation &lt;chr&gt;, fxInfo_answer_type &lt;chr&gt;,
## #   fxInfo_citation &lt;chr&gt;, fxInfo_clarification &lt;chr&gt;,
## #   fxInfo_cpp_tag &lt;chr&gt;, fxInfo_cross_coder_aggregation &lt;chr&gt;,
## #   fxInfo_data_release &lt;chr&gt;, fxInfo_historical_clarification &lt;chr&gt;,
## #   fxInfo_notes &lt;chr&gt;, fxInfo_ordering &lt;chr&gt;,
## #   fxInfo_project_manager &lt;list&gt;, fxInfo_question &lt;chr&gt;,
## #   fxInfo_responses &lt;list&gt;, fxInfo_scale &lt;chr&gt;, fxInfo_sources &lt;chr&gt;,
## #   fxInfo_cautionary &lt;chr&gt;, fxGeom_class &lt;chr&gt;, fxGeom_assoc_vars &lt;list&gt;,
## #   fxGeom_limits &lt;list&gt;, fxGeom_trans &lt;list&gt;, fxGeom_veto &lt;list&gt;,
## #   fxGeom_vote &lt;list&gt;, fxGeom_drop &lt;lgl&gt;, fxGeom_pal.colour_fill &lt;list&gt;</code></pre>
</div>
<div id="fx_info-1" class="section level2">
<h2><span class="header-section-number">5.2</span> <code>fx_info</code></h2>
<p>We can use <code>vdem</code> to produce uncomplicated and well-structured descriptive tables, for instance table <a href="#tab:desc"><strong>??</strong></a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(v2x_polyarchy, v2x_libdem, v2x_partipdem, v2x_delibdem, v2x_egaldem) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_info</span>(<span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;question&quot;</span>, <span class="st">&quot;stats&quot;</span>), 
          <span class="dt">statistics =</span> <span class="kw">list</span>(
            <span class="dt">mean =</span> <span class="cf">function</span>(x, ...) <span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
            <span class="dt">quantile =</span> <span class="cf">function</span>(x, ...) 
              <span class="kw">quantile</span>(x, <span class="dt">probs =</span> <span class="kw">seq</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>, <span class="fl">0.25</span>), 
                       <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
            )) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>name) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_output</span>(<span class="st">&quot;table&quot;</span>, <span class="dt">out_format =</span> <span class="st">&quot;markdown&quot;</span>)</code></pre></div>
<table>
<colgroup>
<col width="18%" />
<col width="50%" />
<col width="3%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Question</th>
<th align="right">mean</th>
<th align="right">quantile: 25%</th>
<th align="right">quantile: 50%</th>
<th align="right">quantile: 75%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Electoral democracy index</td>
<td align="left">To what extent is the ideal of electoral democracy in its fullest sense achieved?</td>
<td align="right">0.26</td>
<td align="right">0.06</td>
<td align="right">0.17</td>
<td align="right">0.37</td>
</tr>
<tr class="even">
<td align="left">Liberal democracy index</td>
<td align="left">To what extent is the ideal of liberal democracy achieved?</td>
<td align="right">0.22</td>
<td align="right">0.06</td>
<td align="right">0.12</td>
<td align="right">0.29</td>
</tr>
<tr class="odd">
<td align="left">Participatory democracy index</td>
<td align="left">To what extent is the ideal of participatory democracy achieved?</td>
<td align="right">0.19</td>
<td align="right">0.04</td>
<td align="right">0.10</td>
<td align="right">0.29</td>
</tr>
<tr class="even">
<td align="left">Deliberative democracy index</td>
<td align="left">To what extent is the ideal of deliberative democracy achieved?</td>
<td align="right">0.23</td>
<td align="right">0.04</td>
<td align="right">0.12</td>
<td align="right">0.37</td>
</tr>
<tr class="odd">
<td align="left">Egalitarian democracy index</td>
<td align="left">To what extent is the ideal of egalitarian democracy achieved?</td>
<td align="right">0.24</td>
<td align="right">0.07</td>
<td align="right">0.15</td>
<td align="right">0.33</td>
</tr>
</tbody>
</table>
<p>A more vertical structure is given below by the “collapse”-output-form:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(v2x_polyarchy) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_info</span>(<span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;question&quot;</span>, <span class="st">&quot;clarification&quot;</span>, <span class="st">&quot;stats&quot;</span>), 
          <span class="dt">statistics =</span> <span class="kw">list</span>(
            <span class="dt">mean =</span> <span class="cf">function</span>(x, ...) <span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
            <span class="dt">quantile =</span> <span class="cf">function</span>(x, ...) <span class="kw">quantile</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
            )
          ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_output</span>(<span class="st">&quot;collapse&quot;</span>, 
            <span class="dt">cell_scheme =</span> <span class="st">&quot;*{name}*</span><span class="ch">\n</span><span class="st">{value}&quot;</span>, 
            <span class="dt">cell_sep =</span> <span class="st">&quot;</span><span class="ch">\n\n</span><span class="st">&quot;</span>,
            <span class="dt">out_format =</span> <span class="st">&quot;markdown&quot;</span>)</code></pre></div>
<p><em>Name</em> Electoral democracy index</p>
<p><em>Question</em> To what extent is the ideal of electoral democracy in its fullest sense achieved?</p>
<p><em>Clarification</em> The electoral principle of democracy seeks to embody the core value of making rulers responsive to citizens, achieved through electoral competition for the electorate’s approval under circumstances when suffrage is extensive; political and civil society organizations can operate freely; elections are clean and not marred by fraud or systematic irregularities; and elections affect the composition of the chief executive of the country. In between elections, there is freedom of expression and an independent media capable of presenting alternative views on matters of political relevance. In the V-Dem conceptual scheme, electoral democracy is understood as an essential element of any other conception of representative democracy — liberal, participatory, deliberative, egalitarian, or some other.</p>
<p><em>mean</em> 0.26</p>
<p><em>quantile: 0%</em> 0.0073</p>
<p><em>quantile: 25%</em> 0.062</p>
<p><em>quantile: 50%</em> 0.17</p>
<p><em>quantile: 75%</em> 0.37</p>
<p><em>quantile: 100%</em> 0.94</p>
</div>
<div id="fx_ggplot" class="section level2">
<h2><span class="header-section-number">5.3</span> <code>fx_ggplot</code></h2>
<p>As the general features of <code>fx_ggplot</code> have already been presented in the previous chapter, I will focus on a few changes due to the adaptations of the metaframe. Firstly, I have provided a consistent set of palettes, as can be seen in figure <a href="application.html#fig:consistent">5.1</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span>vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2015</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(v2clrelig_osp, country_name, year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">vdem_geocode</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">geom =</span> geometry, <span class="dt">fill =</span> v2clrelig_osp)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span>my_theme

p2 &lt;-<span class="st"> </span>vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2015</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(v2clrelig_ord, country_name, year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">vdem_geocode</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">geom =</span> geometry, <span class="dt">fill =</span> v2clrelig_ord)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span>my_theme

p1<span class="op">/</span>p2</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:consistent"></span>
<img src="bachelor-thesis_files/figure-html/consistent-1.png" alt="The ordinal scale provides a discretized version of the original scale." width="60%" />
<p class="caption">
Figure 5.1: The ordinal scale provides a discretized version of the original scale.
</p>
</div>
<p>Furthermore, we plot a time series with confidence intervals for different countries in figure <a href="application.html#fig:time">5.2</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(country_name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Germany&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Belgium&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(country_name, year, <span class="kw">contains</span>(<span class="st">&quot;v2x_polyarchy&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> v2x_polyarchy, <span class="dt">colour =</span> country_name)) <span class="op">+</span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:time"></span>
<img src="bachelor-thesis_files/figure-html/time-1.png" alt="A time series of the electoral democracy index for Germany, France and Belgium" width="50%" />
<p class="caption">
Figure 5.2: A time series of the electoral democracy index for Germany, France and Belgium
</p>
</div>
<p>If we include all countries, <code>fx_ggplot</code> prevents overplotting, as in figure <a href="application.html#fig:time-all">5.3</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(country_name, year, <span class="kw">contains</span>(<span class="st">&quot;v2x_polyarchy&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> v2x_polyarchy)) <span class="op">+</span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:time-all"></span>
<img src="bachelor-thesis_files/figure-html/time-all-1.png" alt="A time series of the electoral democracy index for all countries" width="50%" />
<p class="caption">
Figure 5.3: A time series of the electoral democracy index for all countries
</p>
</div>
<p>Of course, we can also plot two democracy indices against each other, see figures <a href="application.html#fig:scatter">5.4</a> and <a href="application.html#fig:scatter-facet">5.5</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(v2x_polyarchy, v2x_libdem) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> v2x_polyarchy, <span class="dt">y =</span> v2x_libdem)) <span class="op">+</span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:scatter"></span>
<img src="bachelor-thesis_files/figure-html/scatter-1.png" alt="The electoral democracy index and the liberal democracy index." width="50%" />
<p class="caption">
Figure 5.4: The electoral democracy index and the liberal democracy index.
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(country_name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Germany&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Belgium&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(v2x_polyarchy, v2x_libdem, country_name, year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> v2x_polyarchy, <span class="dt">y =</span> v2x_libdem,
                <span class="dt">colour =</span> year), 
            <span class="dt">facet_vars =</span> <span class="kw">vars</span>(country_name)) <span class="op">+</span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:scatter-facet"></span>
<img src="bachelor-thesis_files/figure-html/scatter-facet-1.png" alt="Electoral and liberal democracy index in Germany, France and Belgium over time" width="50%" />
<p class="caption">
Figure 5.5: Electoral and liberal democracy index in Germany, France and Belgium over time
</p>
</div>
<p>The time series work for the low-level indices, as well, as can be seen in figure <a href="application.html#fig:low">5.6</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(country_name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Germany&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Belgium&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;v2meharjrn&quot;</span>), country_name, year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> v2meharjrn_osp, <span class="dt">colour =</span> country_name)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:low"></span>
<img src="bachelor-thesis_files/figure-html/low-1.png" alt="The electoral democracy index and the liberal democracy index." width="50%" />
<p class="caption">
Figure 5.6: The electoral democracy index and the liberal democracy index.
</p>
</div>
<p>Figure <a href="application.html#fig:low-disc">5.7</a> shows the discretized version.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(country_name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Germany&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Belgium&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;v2meharjrn&quot;</span>), country_name, year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> v2meharjrn_ord, <span class="dt">colour =</span> country_name)) <span class="op">+</span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:low-disc"></span>
<img src="bachelor-thesis_files/figure-html/low-disc-1.png" alt="Harassment of journalists in Germany, France and Belgium over time (discretized)" width="50%" />
<p class="caption">
Figure 5.7: Harassment of journalists in Germany, France and Belgium over time (discretized)
</p>
</div>
<p>Finally, we plot a discretized variable against a high-level index in figure <a href="application.html#fig:disc-high">5.8</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;v2meharjrn&quot;</span>), v2x_polyarchy, country_name, year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">fx_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> v2meharjrn_ord, <span class="dt">y =</span> v2x_polyarchy)) <span class="op">+</span>
<span class="st">  </span>my_theme</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:disc-high"></span>
<img src="bachelor-thesis_files/figure-html/disc-high-1.png" alt="The electoral democracy index and the liberal democracy index." width="50%" />
<p class="caption">
Figure 5.8: The electoral democracy index and the liberal democracy index.
</p>
</div>
<p>As a final proof of concept, <a href="#vardescs">appendix B</a> contains an automated report of the high-level indices.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-vdem-codebook2018">
<p>Coppedge, Michael, John Gerring, Staffan I. Knutsen, Carl Henrik Lindberg, Svend-Erik Skaaning, Jan Teorell, David Altman, Michael Bernhard, et al. 2018. “V-Dem Codebook v8.” Varieties of Democracy (V-Dem) Project.</p>
</div>
<div id="ref-pdftools">
<p>Ooms, Jeroen. 2018. <em>pdftools: Text Extraction, Rendering and Converting of PDF Documents</em>. <a href="https://cran.r-project.org/package=pdftools" class="uri">https://cran.r-project.org/package=pdftools</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="concept.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="summary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["bachelor-thesis.pdf", "bachelor-thesis.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
